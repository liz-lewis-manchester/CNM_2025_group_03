# CNM_2025_group_03

### Project Overview

This project simulates the transport and evolution of a pollutant concentration in a river using numerical methods. The model computes pollutant concentration as a function of both time and distance along the river.

### Model Description

Pollutant transport is modelled using the one-dimensional advection equation:

### $$\frac{\partial \theta}{\partial t} = -U \frac{\partial \theta}{\partial x}$$


where:
- θ is the pollutant concentration (µg/m³)
- t is time (s)
- x is distance along the river (m)
- U is the flow velocity (m s⁻¹)

### Code Functionality
The code allows the user to define the model domain, spatial and temporal resolution, and flow velocity. It constructs the computational grid and solves the one-dimensional advection equation to simulate pollutant transport over time. Initial conditions can be specified directly or read from "initial_conditions.csv", with the input data interpolated onto the model grid if required. Boundary conditions are applied at the edges of the domain, and the model produces plots to visualise how pollutant concentration evolves in space and time.

### Repository Structure
src/        – numerical solver and plotting code  
data/       – input CSV files (e.g. initial_conditions.csv)  
tests/      – test case scripts  
results/    – generated plots and figures 

### How to run code
The model is organised so that each of the required test cases is implemented as a separate Python script in the tests/ directory. This allows each scenario described in the coursework brief to be run independently.

#### Requirements
The code requires Python 3 and the following Python packages:
- numpy
- matplotlib
- pandas (for CSV input and interpolation)

## Running the repository in Google Colab

Follow these steps to run the full project (including the test cases) in Colab:

1) Open Colab and bring in the repo  
   - Upload the project ZIP to Colab and unzip it, **or** mount Google Drive and copy the repo folder into `/content`.  

2) Change into the repo  
   ```bash
   %cd /content/your-repository-name
   ```

3) Install dependencies  
   ```bash
   !pip install numpy matplotlib pandas
   ```
   If the project has a `requirements.txt`, install everything with:
   ```bash
   !pip install -r requirements.txt
   ```

4) Ensure required data is present  
   - Make sure `data/initial_conditions.csv` exists (needed for Test Case 2).  
   - If it’s missing, upload it into the `data` directory (create the folder if needed).

5) Run tests  
   - Full test suite (if available):  
     ```bash
     !pytest
     ```
   - Individual test cases:  
     ```bash
     !python tests/test_case_1.py
     !python tests/test_case_2.py  # requires data/initial_conditions.csv
     ```

6) Review outputs  
   - Check the Colab cell outputs for logs or printed results.  
   - Inspect any generated files (e.g., figures) in the repository folders such as `outputs/` or similar.


#### Description of Test Case Files

Each test case corresponds directly to a scenario described in the coursework brief:

Test Case 1
Constant inflow condition with θ = 250 µg/m³ at x = 0 and zero elsewhere.

Test Case 2
Initial conditions read from initial_conditions.csv and interpolated onto the model grid.

Test Case 3
Sensitivity analysis investigating the effect of velocity, spatial resolution, and time step.

Test Case 4
Exponentially decaying pollutant concentration during advection.

Test Case 5
Spatially varying velocity field generated by applying a ±10% random perturbation to the mean velocity.

#### Output

The model produces graphical outputs to visualise pollutant transport, including:

- Concentration versus distance plots at selected time steps
- Space–time plots showing pollutant evolution through the domain

All output figures are saved to the results/ directory.

### Pollution Concentration Visualization Tool

This Python code creates a visualisation of the pollutant concentration data over time and space using `matplotlib`. It provides functions to create time snapshots, compare simulation results, and generate heatmaps.

---

### Authors
Chloe Godfrey

Akash Ahmad

Zain Ali

Rachel Borcherds

Junjie Ma

---
